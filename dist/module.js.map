{"version":3,"file":"module.js","mappings":"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","sources":["webpack://spectraphilic-windrose-panel/external amd \"@grafana/ui\"","webpack://spectraphilic-windrose-panel/external amd \"@emotion/css\"","webpack://spectraphilic-windrose-panel/external amd \"d3\"","webpack://spectraphilic-windrose-panel/external amd \"@grafana/data\"","webpack://spectraphilic-windrose-panel/external amd \"react\"","webpack://spectraphilic-windrose-panel/webpack/bootstrap","webpack://spectraphilic-windrose-panel/webpack/runtime/compat get default export","webpack://spectraphilic-windrose-panel/webpack/runtime/define property getters","webpack://spectraphilic-windrose-panel/webpack/runtime/hasOwnProperty shorthand","webpack://spectraphilic-windrose-panel/webpack/runtime/make namespace object","webpack://spectraphilic-windrose-panel/./components/SimplePanel.tsx","webpack://spectraphilic-windrose-panel/./module.ts"],"sourcesContent":["module.exports = __WEBPACK_EXTERNAL_MODULE__7__;","module.exports = __WEBPACK_EXTERNAL_MODULE__89__;","module.exports = __WEBPACK_EXTERNAL_MODULE__201__;","module.exports = __WEBPACK_EXTERNAL_MODULE__781__;","module.exports = __WEBPACK_EXTERNAL_MODULE__959__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import React, { useEffect, useRef } from 'react';\nimport { GrafanaTheme2, PanelProps, getValueFormat } from '@grafana/data';\nimport { SimpleOptions } from 'types';\nimport { css, cx } from '@emotion/css';\nimport { useStyles2, useTheme2 } from '@grafana/ui';\nimport * as d3 from 'd3';\n\ninterface Props extends PanelProps<SimpleOptions> { }\n\nconst getStyles = (theme: GrafanaTheme2, options: SimpleOptions) => {\n  return {\n    wrapper: css({\n      position: \"relative\",\n    }),\n    svg: css`\n      position: absolute;\n      top: 0;\n      left: 0;\n    `,\n    zLabel: css({\n      fontSize: `${options.legendFontSize}px`,\n    }),\n    speedLabel: css({\n      fontSize: `${options.speedFontSize}px`,\n    }),\n    directionLabel: css({\n      fontSize: `${options.directionFontSize}px`,\n    }),\n    axis: css({\n      opacity: 0.7,\n    }),\n  };\n};\n\n// Helper function. Returns an array with the intervals from 'start' to 'end'\n// defined by the size of the intervals (step). Example:\n// getIntervals(0, 100, 30) => [[0, 30], [30, 60], [60, 90], [90, 120]]\nconst getIntervals = (start: number, end: number, step: number): Array<[number, number]> => {\n  const d = end - start;\n  const n = Math.ceil(d / step);\n  return Array.from({ length: n }, (_, i) => [start + i * step, start + (i + 1) * step]);\n};\n\nconst range = (start: number, end?: number, step = 1): number[] => {\n  const output = [];\n\n  if (end === undefined) {\n    end = start;\n    start = 0;\n  }\n\n  if (\n    (start < end && step <= 0) ||\n    (start > end && step >= 0)\n  ) {\n    throw new Error('Step value causes infinite loop');\n  }\n\n  if (start < end) {\n    for (let i = start; i < end; i += step) {\n      output.push(i);\n    }\n  } else {\n    for (let i = start; i > end; i += step) {\n      output.push(i);\n    }\n  }\n\n  return output;\n};\n\n\nconst getIntervalIndex = (value: number, intervals: Array<[number, number]>, max = 0): number | null => {\n  // Check value\n  if (value === null) {\n    console.log('Unexpected value is null');\n    return null;\n  }\n\n  // Empty intervals\n  if (!Array.isArray(intervals[0])) {\n    return null;\n  }\n  \n  // Below lower limit\n  if (value < intervals[0][0]) {\n    return null;\n  }\n\n  // For circular intervals, the 1st interval starts at a negative value\n  const len = intervals.length;\n  const lastInterval = intervals[len - 1];\n  if (value >= lastInterval[1]) {\n    value -= max;\n  }\n\n  // Within range\n  for (let i = 0; i < len; i++) {\n    const [low, high] = intervals[i];\n    if (value >= low && value < high) {\n      return i;\n    }\n  }\n\n  // Last interval is right-closed (except in circular intervals)\n  if (value === lastInterval[1]) {\n    return len - 1;\n  }\n\n  // Above upper limit\n  console.warn(`getIntervalIndex ${value} too big`);\n  return null;\n};\n\nexport const SimplePanel: React.FC<Props> = ({ options, data, width, height }) => {\n  const theme = useTheme2();\n  const styles = useStyles2(() => getStyles(theme, options));\n\n  let speeds: number[];\n  let angles: number[];\n\n  if (data.series.length === 0) {\n    throw new Error(\"Minimum of 1 series required\");\n  }\n  else if (data.series.length === 1) {\n    const fields = data.series[0].fields;\n    speeds = fields.find((field, index) => field.name === \"speed\")?.values || [];\n    angles = fields.find((field, index) => field.name === \"direction\")?.values || [];\n  }\n  else {\n    const speedSeries = data.series.find((series, index) => {\n      series.fields.some(field => field.name === \"speed\")\n    }) || data.series[0]; // Default to first series if no \"speed\" field found\n\n    const directionSeries = data.series.find((series, index) => {\n      series.fields.some(field => field.name === \"direction\")\n    }) || data.series[1]; // Default to second series if no \"direction\" field found\n\n    speeds = speedSeries.fields[1].values;\n    angles = directionSeries.fields[1].values;\n  }\n\n  const speedMax = speeds.length > 0 ? Math.max(...speeds) : 0;\n  const raw = angles.map((angle, index) => [angle, speeds[index]])\n    .filter(([angle, speed]) => speed != null);\n\n  // Configuration\n  const slices = +options.slices;\n  const start = +options.start;\n  const step = (options.step === '') ? Math.ceil(speedMax / 8) : +parseInt(options.step, 10);\n  const unit = options.unit;\n\n  // Intervals\n  const angleStep = 360 / slices;\n  const angleIntervals = getIntervals(-angleStep / 2, 360 - angleStep / 2, angleStep);\n  const speedIntervals = getIntervals(start, speedMax, step);\n\n  // [angle-index][speed-index] = 0\n  const matrix = [...Array(angleIntervals.length)].map(x => Array(speedIntervals.length).fill(0));\n  // [angle-index][speed-index] = n\n  for (let i = 0; i < raw.length; i++) {\n    let j = getIntervalIndex(raw[i][0], angleIntervals, 360);\n    let k = getIntervalIndex(raw[i][1], speedIntervals);\n    if (j != null && k != null) {\n      matrix[j][k]++;\n    }\n  }\n\n  // x = direction - angle\n  // y = count     - radius\n  // z = speed     - color\n\n  // Columns\n  const zLabels = speedIntervals.map(x => x[0] + ' - ' + x[1]);\n\n  // [{angle: angle, 0: count-0, ..., n-1: count-n-1, total: count-total} ... ]\n  const renderData = [];\n  for (let i = 0; i < angleIntervals.length; i++) {\n    const row: { [key: string]: number } = {\n      angle: angleIntervals[i][0]\n    };\n    let total = 0;\n    for (let j = 0; j < speedIntervals.length; j++) {\n      let name = zLabels[j];\n      total += row[name] = matrix[i][j];\n    }\n    row['total'] = total;\n    renderData.push(row);\n  }\n  //console.debug('data=', data);\n\n  // Percent\n  if (options.scale === 'percent') {\n    const max = d3.sum(renderData, d => d.total);\n    const tmpScale = d3.scaleLinear([0, max], [0, 1]);\n    for (let i = 0; i < renderData.length; i++) {\n      for (let key in renderData[i]) {\n        if (key !== 'angle') {\n          renderData[i][key] = tmpScale(renderData[i][key]);\n        }\n      }\n    }\n  }\n\n  const margin = { top: 40, right: 40, bottom: 40, left: 40 },\n    innerRadius = 0,\n    chartWidth = width - margin.left - margin.right,\n    chartHeight = height - margin.top - margin.bottom,\n    outerRadius = Math.min(chartWidth, chartHeight) / 2;\n  const yRange = [innerRadius, outerRadius];\n\n  // X-Axis\n  const radiansRange = [0, 2 * Math.PI];\n  const getRadiansFromDegrees = d3.scaleLinear([0, 360], radiansRange);\n\n  // Y-axis\n  const yMax = d3.max(renderData, d => d.total) || 0;\n  const getRadius = d3.scaleLinear([0, yMax], yRange);\n\n  // Z-axis: map speed interval labels to colors\n  const getColor = d3.scaleOrdinal(zLabels, [\"#4242f4\", \"#42c5f4\", \"#42f4ce\", \"#42f456\",\n    \"#adf442\", \"#f4e242\", \"#f4a142\", \"#f44242\"]);\n\n  // Draw 1 arc for every speed interval in every direction\n  const arcWidth = d3.scaleBand(renderData.map(d => d.angle), radiansRange).align(0).bandwidth();\n\n  // X axis (angle)\n  const gridN = 8;\n  const gridX = range(0, 360, 360 / gridN);\n  const xScale = d3.scaleLinear([0, gridN], radiansRange); // Extend the domain slightly to match the range [0, 2π]\n\n  // Draw the text label (degrees)\n  const xGridWidth = d3.scaleBand(gridX, radiansRange).align(0).bandwidth();\n  const angleOffset = -360.0 / gridX.length / 2.0;\n  const degrees2compass: { [key: number]: string } = {\n    0: 'N',\n    45: 'NE',\n    90: 'E',\n    135: 'SE',\n    180: 'S',\n    225: 'SW',\n    270: 'W',\n    315: 'NW',\n  };\n  const unitFormatter = getValueFormat(unit);\n  const radius = d3.scaleLinear([0, d3.max(gridX, d => d) || 0], yRange);\n\n  interface AxisComponentProps {\n    transform: string;\n  }\n\n  const AxisComponent: React.FC<AxisComponentProps> = ({ transform }) => {\n    const axisRef = useRef(null);\n\n    useEffect(() => {\n      if (axisRef.current) {\n        const axis = d3.axisLeft(radius).scale(radius.copy().range([-innerRadius, -(outerRadius + 10)])).ticks(0);\n        d3.select<SVGSVGElement, unknown>(axisRef.current).call(axis);\n      }\n    }, [transform]);\n\n    return <g ref={axisRef} transform={transform} className={styles.axis} />;\n  };\n\n  useEffect(() => {\n    const legendGroup = document.querySelector('.legend-group');\n    if (legendGroup instanceof SVGGElement) {\n      const bbox = legendGroup.getBBox();\n      const legendWidth = bbox.width;\n      const legendX = width / 2 - legendWidth;\n      legendGroup.setAttribute('transform', `translate(${legendX}, 0)`);\n    }\n  }, [width, zLabels, options.legendFontSize, options.speedFontSize, options.directionFontSize]);\n\n  return (\n    <div\n      className={cx(\n        styles.wrapper,\n        css`\n          width: ${width}px;\n          height: ${height}px;\n        `\n      )}\n    >\n      <svg className={styles.svg}\n        xmlns=\"http://www.w3.org/2000/svg\"\n        xmlnsXlink=\"http://www.w3.org/1999/xlink\"\n        viewBox={`-${width / 2} -${height / 2} ${width} ${height}`}\n        width={width}\n        height={height}\n      >\n        <g>\n          {d3.stack().keys(zLabels)(renderData).map((d, i) => (\n            <g key={i} fill={getColor(d.key)} fillOpacity={options.opacity}>\n              {d.map((pathData, index) => {\n                const arcData = {\n                  innerRadius: getRadius(pathData[0]),\n                  outerRadius: getRadius(pathData[1]),\n                  startAngle: getRadiansFromDegrees(pathData.data.angle),\n                  endAngle: getRadiansFromDegrees(pathData.data.angle) + arcWidth\n                };\n                return <path\n                  key={index}\n                  d={d3.arc()\n                    .innerRadius(() => getRadius(pathData[0]))\n                    .outerRadius(() => getRadius(pathData[1]))\n                    .startAngle(() => getRadiansFromDegrees(pathData.data.angle))\n                    .endAngle(() => getRadiansFromDegrees(pathData.data.angle) + arcWidth)\n                    .padAngle(0.01)\n                    .padRadius(innerRadius)(arcData)?.toString() ?? undefined}\n                />\n              })}\n            </g>\n          ))}\n\n          {gridX.map((d, i) => (\n            <g\n              key={i}\n              textAnchor=\"middle\"\n              transform={`rotate(${(getRadiansFromDegrees(d) + xGridWidth / 2) * 180 / Math.PI - (90 - angleOffset)})translate(${outerRadius + 30},0)`}\n            >\n              <text\n                transform={`rotate(${90 - d})`}\n                fill={theme.colors.text.secondary}\n                className={styles.directionLabel}\n              >\n                {options.x_grid === 'compass' ? degrees2compass[d] ?? d : d}\n              </text>\n            </g>\n          ))}\n\n          <g className=\"axis\">\n            {d3.range(xScale.domain()[1]).map((d, i) => (\n              <g\n                key={i}\n                className=\"axis\"\n              >\n                <AxisComponent key={i}\n                  transform={`rotate(${xScale(d) * 180 / Math.PI})`}\n                />\n              </g>\n            ))}\n          </g>\n\n          <g textAnchor=\"middle\">\n            {getRadius.ticks(options.rings).slice(1).map((d, i) => (\n              <g key={i}>\n                <circle\n                  fill=\"none\"\n                  stroke={theme.colors.border.strong}\n                  strokeDasharray=\"4,4\"\n                  r={getRadius(d)}\n                />\n                <text\n                  y={-getRadius(d)}\n                  dy=\"-0.35em\"\n                  x={-10}\n                  fill={theme.colors.text.secondary}\n                  className={styles.speedLabel}\n                >\n                  {getRadius.tickFormat(5, options.scale === 'percent' ? \"%\" : \"s\")(d)}\n                </text>\n              </g>\n            ))}\n          </g>\n\n          <g className=\"legend-group\">\n            {zLabels.slice().reverse().map((d, i) => (\n              <g\n                key={i}\n                transform={`translate(0, ${40-height/2 + (i - zLabels.length / 2) * 20})`}\n              >\n                <rect width={18} height={18} fill={getColor(d)} />\n                <text\n                  x={24}\n                  y={9}\n                  dy=\"0.35em\"\n                  fill={theme.colors.text.primary}\n                  className={styles.zLabel}\n                >\n                  {`${d}${unitFormatter(i).suffix}`}\n                </text>\n              </g>\n            ))}\n          </g>\n        </g>\n      </svg>\n    </div>\n  );\n};\n","import { PanelPlugin } from '@grafana/data';\nimport { SimpleOptions } from './types';\nimport { SimplePanel } from './components/SimplePanel';\n\nexport const plugin = new PanelPlugin<SimpleOptions>(SimplePanel).setPanelOptions((builder) => {\n  return builder\n    .addSliderInput({\n      category: [\"Display\"],\n      path: 'opacity',\n      name: 'Opacity',\n      settings: {\n        min: 0.0,\n        max: 1.0,\n        step: 0.05,\n      },\n      defaultValue: 0.6,\n    })\n    .addNumberInput({\n      category: [\"Direction\"],\n      path: 'slices',\n      name: 'Cake slices',\n      settings: {\n        min: 1,\n        integer: true,\n      },\n      defaultValue: 32,\n    })\n    .addRadio({\n      category: [\"Direction\"],\n      path: 'x_grid',\n      name: 'Grid labels',\n      defaultValue: 'degrees',\n      settings: {\n        options: [\n          {\n            value: 'degrees',\n            label: 'Degrees',\n          },\n          {\n            value: 'compass',\n            label: 'Compass',\n          },\n        ],\n      }\n    })\n    .addSliderInput({\n      category: [\"Speed\"],\n      path: 'rings',\n      name: 'Rings',\n      settings: {\n        min: 1,\n        max: 16,\n        integer: true,\n      },\n      defaultValue: 5,\n    })\n    .addNumberInput({\n      category: ['Speed'],\n      path: 'start',\n      name: 'Start',\n      settings: {\n        'min': 0,\n      },\n      defaultValue: 0,\n    })\n    .addTextInput({\n      category: ['Speed'],\n      path: 'step',\n      name: 'Step',\n      defaultValue: '',\n    })\n    .addUnitPicker({\n      category: ['Speed'],\n      path: 'unit',\n      name: 'Unit',\n      defaultValue: 'velocityms',\n    })\n    .addRadio({\n      category: [\"Speed\"],\n      path: 'scale',\n      name: 'Scale',\n      defaultValue: 'absolute',\n      settings: {\n        options: [\n          {\n            value: 'absolute',\n            label: 'Absolute',\n          },\n          {\n            value: 'percent',\n            label: 'Percent',\n          },\n        ],\n      }\n    })\n    .addSliderInput({\n      category: [\"Font Sizes\"],\n      path: 'legendFontSize',\n      name: 'Legend Font Size',\n      settings: {\n        min: 8,\n        max: 16,\n        step: 1,\n      },\n      defaultValue: 12,\n    })\n    .addSliderInput({\n      category: [\"Font Sizes\"],\n      path: 'speedFontSize',\n      name: 'Speed Font Size',\n      settings: {\n        min: 8,\n        max: 16,\n        step: 1,\n      },\n      defaultValue: 14,\n    })\n    .addSliderInput({\n      category: [\"Font Sizes\"],\n      path: 'directionFontSize',\n      name: 'Direction Font Size',\n      settings: {\n        min: 8,\n        max: 16,\n        step: 1,\n      },\n      defaultValue: 14,\n    })\n});\n"],"names":["module","exports","__WEBPACK_EXTERNAL_MODULE__7__","__WEBPACK_EXTERNAL_MODULE__89__","__WEBPACK_EXTERNAL_MODULE__201__","__WEBPACK_EXTERNAL_MODULE__781__","__WEBPACK_EXTERNAL_MODULE__959__","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","n","getter","__esModule","d","a","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","r","Symbol","toStringTag","value","getIntervals","start","end","step","Math","ceil","Array","from","length","_","i","getIntervalIndex","intervals","max","console","log","isArray","len","lastInterval","low","high","warn","plugin","PanelPlugin","options","data","width","height","theme","useTheme2","styles","useStyles2","wrapper","css","position","svg","zLabel","fontSize","legendFontSize","speedLabel","speedFontSize","directionLabel","directionFontSize","axis","opacity","getStyles","speeds","angles","series","Error","fields","find","field","index","name","values","speedSeries","some","directionSeries","speedMax","raw","map","angle","filter","speed","slices","parseInt","unit","angleStep","angleIntervals","speedIntervals","matrix","x","fill","j","k","zLabels","renderData","row","total","push","scale","d3","tmpScale","chartWidth","chartHeight","outerRadius","min","yRange","radiansRange","PI","getRadiansFromDegrees","yMax","getRadius","getColor","arcWidth","align","bandwidth","gridX","output","range","xScale","xGridWidth","angleOffset","degrees2compass","unitFormatter","getValueFormat","radius","AxisComponent","transform","axisRef","useRef","useEffect","current","copy","ticks","g","ref","className","legendGroup","document","querySelector","SVGGElement","legendWidth","getBBox","legendX","setAttribute","div","cx","xmlns","xmlnsXlink","viewBox","keys","fillOpacity","pathData","arcData","innerRadius","startAngle","endAngle","path","padAngle","padRadius","toString","textAnchor","text","colors","secondary","x_grid","domain","rings","slice","circle","stroke","border","strong","strokeDasharray","y","dy","tickFormat","reverse","rect","primary","suffix","setPanelOptions","builder","addSliderInput","category","settings","defaultValue","addNumberInput","integer","addRadio","label","addTextInput","addUnitPicker"],"sourceRoot":""}